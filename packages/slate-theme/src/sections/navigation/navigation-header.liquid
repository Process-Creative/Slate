<header class="c-header" data-header>
  {%- comment -%} Mobile Left Icons {%- endcomment -%}
  <div class="c-header__left">
    <button type="button" class="c-header__hamburger" data-header-toggle>
      {%- render 'icon.hamburger' -%}
    </button>

    <a class="c-header__search is-left" href="{{ routes.search_url }}"
      title="{{ 'general.navigation.search' | t }}"
    >
      {%- render 'icon.search' -%}
    </a>
  </div>

  {%- comment -%} Nav {%- endcomment -%}
  {%- render 'navigation.main-menu' with {
    menu: linklists[section.settings.menu], blocks: section.blocks
  } -%}

  {%- comment -%} Site Logo {%- endcomment -%}
  <a href="{{ routes.root_url }}" class="c-header__logo" ti tle="{{ shop.title | escape }}">
    {%- render 'object.logo' -%}
  </a>

  {%- comment -%} Right Icons {%- endcomment -%}
  <div class="c-header__right">
    <div class="c-header__currency">
      {%- render 'object.currency-selector' -%}
    </div>

    <a class="c-header__search is-right" href="{{ routes.search_url }}"
      title="{{ 'general.navigation.search' | t }}"
    >
      {%- render 'icon.search' -%}
    </a>

    {% if shop.customer_accounts_enabled %}
      <a class="c-header__account" href="{{ routes.account_url }}"
        title="{{ 'general.navigation.account' | t }}"
      >
        {%- render 'icon.account' -%}
      </a>
    {% endif %}

    {%- if section.settings.wishlist != blank -%}
      <a href="{{ section.settings.wishlist }}" class="c-header__wishlist"
        data-header-wishlist title="{{ 'general.navigation.wishlist' | t }}"
      >
        {%- render 'icon.heart' -%}
      </a>
    {%- endif -%}

    <a href="{{ routes.cart_url }}" class="c-header__cart" data-header-cart>
      <span data-header-cart-count title="{{ 'general.navigation.cart' | t }}"
        class="c-header__cart-count{% if cart.item_count == 0 %} is-hidden{% endif %}"
      >
        {{- cart.item_count -}}
      </span>
      {%- render 'icon.cart' -%}
    </a>
  </div>
</header>

{% schema %}
  {
    "name": "Header",
    "class": "c-section c-section__header",
    "settings": [
      {
        "type": "url",
        "id": "wishlist",
        "label": "Wishlist URL"
      },
      {
        "type": "header",
        "content": "Menu Settings"
      },
      {
        "id": "menu",
        "type": "link_list",
        "label": "Menu",
        "default": "main-menu",
        "info": "Please select the main menu for desktop devices."
      }
    ],
    "blocks": [
      {
        "type": "menu-content",
        "name": "Menu Content",
        "settings": [
          {
            "type": "header",
            "content": "Desktop Menu Content"
          },
          {
            "type": "paragraph",
            "content": "Additional content to display in the on each of the top level menu items, i.e. SHOP, PERSONALISED."
          },
          {
            "id": "title",
            "type": "text",
            "label": "Link Title",
            "info": "Must be a match for the title entered for this link into the navigation settings, i.e. SHOP."
          },
          {
            "id": "image",
            "type": "image_picker",
            "label": "Menu Image",
            "info": "Image to show on the right hand side of the mega nav for desktop users, at the bottom of the menu for mobile users."
          },
          {
            "id": "link",
            "type": "url",
            "label": "Image Link"
          },
          {
            "id": "label",
            "type": "text",
            "label": "Label"
          },
          {
            "id": "subtitle",
            "type": "text",
            "label": "Subtitle"
          }
        ]
      }
    ]
  }
{% endschema %}
